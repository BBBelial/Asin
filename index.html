<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Amazon 查询工具</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f2f5;
      margin: 0;
    }

    .section {
      max-width: 900px;
      margin: 30px auto;
    }

    .title {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 8px;
      color: #333;
    }

    .flex-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    select, input, button {
      padding: 10px;
      font-size: 1rem;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    select {
      min-width: 160px;
    }

    input[type="text"] {
      flex: 1;
      min-width: 150px;
    }

    button {
      background-color: #FF9900;
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: #FF8000;
    }

    button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }

    .error {
      color: red;
      font-size: 0.9rem;
      display: none;
      margin-top: -5px;
      margin-bottom: 10px;
    }

    .warning {
      background: #fce8e6;
      color: #d93025;
      padding: 15px;
      border-radius: 5px;
      margin: 20px auto;
      max-width: 700px;
    }

    #postal-display {
      min-width: 80px;
      font-size: 1rem;
      padding: 10px;
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 5px;
      text-align: center;
    }

    /* 提示浮层样式 */
    #toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: #28a745;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      font-size: 0.95rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
      animation: fadein 0.3s;
    }

    @keyframes fadein {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeout {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(10px); }
    }
  </style>
</head>
<body>

  <!-- ASIN 查询 -->
  <div class="section">
    <div class="title">ASIN 跳转</div>
    <div class="flex-row">
      <select id="asin-country" onchange="onAsinChange()"></select>
      <span id="postal-display">—</span>
      <button onclick="copyPostalCode()">复制邮编</button>
      <input type="text" id="asin" placeholder="请输入 ASIN" maxlength="10">
      <button onclick="goToAmazon()">跳转</button>
    </div>
    <div class="error" id="asin-error">请输入10位字符的有效 ASIN。</div>
  </div>

  <!-- 订单查询 -->

  <div class="warning">
   	<p>多渠道订单需使用 S 开头的亚马逊自动生成订单号进行查询。</p>
	<p>026 / 202-206 → 英国</p>
	<p>028 / 302-306 → 德国</p>
	<p>111-114 → 美国</p>
	<p>171 / 402-408 → 欧洲多国（比利时、法国、荷兰等）及印度</p>
	<p>249-250 / 503 → 澳洲、日本</p>
	<p>701-702 → 美洲三国（巴西、加拿大、墨西哥）</p>
  </div>
  <div class="section">
    <div class="title">订单号跳转</div>
    <div class="flex-row">
      <select id="order-region" onchange="onOrderChange()"></select>
      <input type="text" id="order-id" placeholder="请输入订单号">
      <button onclick="goToOrder()">跳转</button>
    </div>
  </div>

  <!-- 物流查询 -->
  <div class="section">
    <div class="title">物流追踪码跳转</div>
    <div class="flex-row">
      <select id="logistics" onchange="onLogisticsChange()"></select>
      <input type="text" id="tracking" placeholder="请输入追踪码">
      <button onclick="goToLogistics()">跳转</button>
    </div>
  </div>

  <!-- 弹出提示框 -->
  <div id="toast"></div>

  <script>
    // 工具函数 - 显示提示信息
    function showToast(message, duration = 2000) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.display = 'block';
      toast.style.animation = 'fadein 0.3s';
      
      // 自动消失
      setTimeout(() => {
        toast.style.animation = 'fadeout 0.3s';
        setTimeout(() => {
          toast.style.display = 'none';
        }, 300);
      }, duration);
    }

    // ---------- ASIN 国家配置 ----------
    const countries = [
      { code: 'com', name: '美国 (.com)', postalCode: '10010', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'ca', name: '加拿大 (.ca)', postalCode: 'K7L 2H9', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'mx', name: '墨西哥 (.mx)', postalCode: '04510', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'co.uk', name: '英国 (.co.uk)', postalCode: 'N20 8JJ', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'de', name: '德国 (.de)', postalCode: '10115', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'fr', name: '法国 (.fr)', postalCode: '75000', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'it', name: '意大利 (.it)', postalCode: '50100', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'es', name: '西班牙 (.es)', postalCode: '08000', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'nl', name: '荷兰 (.nl)', postalCode: '1000AA', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'be', name: '比利时 (.be)', postalCode: '1000', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'ie', name: '爱尔兰 (.ie)', postalCode: '999015', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'se', name: '瑞典 (.se)', postalCode: '23168', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'pl', name: '波兰 (.pl)', postalCode: '00-001', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'co.jp', name: '日本 (.co.jp)', postalCode: '163-8001', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'sg', name: '新加坡 (.sg)', postalCode: '546080', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'ae', name: '阿联酋 (.ae)', postalCode: '64075', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'sa', name: '沙特 (.sa)', postalCode: '11462', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'tr', name: '土耳其 (.tr)', postalCode: '01000', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'in', name: '印度 (.in)', postalCode: '110001', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'com.au', name: '澳大利亚 (com.au)', postalCode: '2600', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'com.cl', name: '智利 (com.cl)', postalCode: '8320000', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'com.br', name: '巴西 (com.br)', postalCode: '01319-900', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
      { code: 'com.ar', name: '阿根廷 (com.ar)', postalCode: 'C1430', placeholder: '请输入ASIN（如：B0DLBTPDCS）' },
    ];

    const asinCountrySelect = document.getElementById('asin-country');
    const asinInput = document.getElementById('asin');
    const asinError = document.getElementById('asin-error');
    const postalDisplay = document.getElementById('postal-display');

    // 初始化国家选择
    function initAsinCountrySelect() {
      countries.forEach(c => {
        const option = document.createElement('option');
        option.value = c.code;
        option.textContent = c.name;
        asinCountrySelect.appendChild(option);
      });
    }

    function onAsinChange() {
      const selected = asinCountrySelect.value;
      const country = countries.find(c => c.code === selected);
      asinInput.placeholder = country.placeholder;
      postalDisplay.textContent = country.postalCode;
      asinError.style.display = 'none';
    }

    function goToAmazon() {
      const asin = asinInput.value.trim();
      const selected = asinCountrySelect.value;
      
      if (asin.length !== 10) {
        asinError.style.display = 'block';
        return;
      }
      
      asinError.style.display = 'none';
      const url = `https://www.amazon.${selected}/dp/${asin}`;
      window.open(url, '_blank');
      asinInput.value = '';
    }

    async function copyPostalCode() {
      const selected = asinCountrySelect.value;
      const country = countries.find(c => c.code === selected);
      
      try {
        await navigator.clipboard.writeText(country.postalCode);
        showToast(`已复制 ${country.name} 的邮编：${country.postalCode}`);
      } catch (err) {
        showToast('复制失败，请手动复制', 3000);
      }
    }

    // 添加键盘事件监听
    function setupEventListeners() {
      asinInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') goToAmazon();
      });
    }

    // ---------- 订单查询 ----------
    const orderRegions = [
      { code: 'us', name: '北美 (US)', url: 'https://sellercentral.amazon.com/orders-v3/order/', placeholder: '请输入订单号' },
      { code: 'uk', name: '英国 (UK)', url: 'https://sellercentral.amazon.co.uk/orders-v3/order/', placeholder: '请输入订单号' },
      { code: 'au', name: '澳洲 (AU)', url: 'https://sellercentral.amazon.com.au/orders-v3/order/', placeholder: '请输入订单号' },
      { code: 'jp', name: '日本 (JP)', url: 'https://sellercentral-japan.amazon.com/orders-v3/order/', placeholder: '请输入订单号' }
    ];

    const orderSelect = document.getElementById('order-region');
    const orderInput = document.getElementById('order-id');

    function initOrderSelect() {
      orderRegions.forEach(r => {
        const option = document.createElement('option');
        option.value = r.code;
        option.textContent = r.name;
        orderSelect.appendChild(option);
      });
    }

    function onOrderChange() {
      const selected = orderSelect.value;
      const region = orderRegions.find(r => r.code === selected);
      orderInput.placeholder = region.placeholder;
    }

    function goToOrder() {
      const code = orderSelect.value;
      const id = orderInput.value.trim();
      if (!id) return;
      
      const region = orderRegions.find(r => r.code === code);
      const url = region.url + encodeURIComponent(id);
      window.open(url, '_blank');
    }

    // ---------- 物流查询 ----------
    const logistics = [
      { code: 'fedex', name: 'Fedex', url: 'https://www.fedex.com/fedextrack/?tracknumbers=', placeholder: '请输入追踪码'},
      { code: 'ups', name: 'UPS', url: 'https://www.ups.com/track?tracknum=', placeholder: '请输入追踪码'},
      { code: 'usps', name: 'USPS', url: 'https://tools.usps.com/go/TrackConfirmAction?tLabels=', placeholder: '请输入追踪码'},
      { code: 'dhlus', name: 'DHL美国', url: 'https://www.dhl.com/us-en/home/tracking/tracking-express.html?submit=1&tracking-id=', placeholder: '请输入追踪码'},
      { code: 'dhlde', name: 'DHL德国', url: 'https://www.dhl.com/de-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=', placeholder: '请输入追踪码'}
    ];

    const logisticsSelect = document.getElementById('logistics');
    const trackingInput = document.getElementById('tracking');

    function initLogisticsSelect() {
      logistics.forEach(l => {
        const option = document.createElement('option');
        option.value = l.code;
        option.textContent = l.name;
        logisticsSelect.appendChild(option);
      });
    }

    function onLogisticsChange() {
      const selected = logisticsSelect.value;
      const item = logistics.find(l => l.code === selected);
      trackingInput.placeholder = item.placeholder;
    }

    function goToLogistics() {
      const code = logisticsSelect.value;
      const id = trackingInput.value.trim();
      if (!id) return;
      
      const item = logistics.find(l => l.code === code);
      let url = item.url + encodeURIComponent(id);
      if (item.extra) url += item.extra;
      window.open(url, '_blank');
    }

    // 初始化所有组件
    function init() {
      initAsinCountrySelect();
      initOrderSelect();
      initLogisticsSelect();
      setupEventListeners();
      
      // 设置默认值
      onAsinChange();
      onOrderChange();
      onLogisticsChange();
    }

    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
